<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>NU Land Parcel Map</title>
    <link rel="manifest" href="site.webmanifest" />
    <link rel="stylesheet" href="page.scss" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDBc15woji15KUqe8SxJoVpwRP4sB7Mtmk&libraries=places"></script>
  </head>
  <body>
    <div id="map" class="map"></div>
    <script type="module">
      import LandMap from "./map";
      import geojson from "./data/complete.json";

      const urlSearch = new URLSearchParams(window.location.search);
      const legendParcelProperty = urlSearch.get("property") || "OWNER_TYPE";
      const legendParcelPropertyBucket =
        urlSearch.get("propertyBucket") === "true" || false;
      const legendParcelPropertyBucketValue =
        urlSearch.get("propertyBucketValue") || 15000;
      const legendParcelPropertyBlankValue =
        urlSearch.get("propertyBlankValue") || "NONE";
      const legendItemsChecked =
        urlSearch.get("legendItemsChecked[]")?.split(",") || [];
      const propertyLabels = {
        OBJECTID: "Object ID",
        OFC_SBRB_N: "Official suburb",
        ADR_NO: "Address number",
        ADR_NO_SFX: "Address suffix",
        STR_NAME: "Street name",
        LU_STR_NAM: "LU street name",
        ALT_NAME: "Alternative name",
        LU_LGL_STS: "LU LGL status",
        PRTY_NMBR: "Property number",
        ZONING: "Zoning",
        SUB_CNCL_N: "Subcouncil",
        SHAPESTAre: "Shape area",
        SHAPESTLen: "Shapes length",
        Name: "Name",
        Suburb: "Suburb",
        "Mapped Onl": "Mapped online",
        "Inner City": "Inner city",
        Address: "Address",
        "Size m2": "Size m2",
        "GLA Yield": "GLA yield",
        "Housing Un": "Housing units",
        Precinct: "Precinct",
        Imagery: "Imagery",
        "Summary ta": "Summary",
        Zoning_1: "Zoning 1",
        Owner: "Owner",
        "GR 2015 va": "GR2015",
        GR2018: "Value",
        Department: "Department",
        Developmen: "Development",
        "Status Ref": "Status reference",
        "Heritage S": "Heritage status",
        "Current Us": "Current use",
        Handles: "Handles",
        "Ready for": "Ready for",
        layer: "Layer",
        N_Owner: "New owner",
        OWNER_TYPE: "Owner type",
        COMMIT_BY: "Commited by",
        COMMIT_ON: "Commited on",
        BRK_PROM: "Broken promises",
      };

      LandMap(geojson, "map", {
        legendParcelProperty: legendParcelProperty,
        legendParcelPropertyBucket: legendParcelPropertyBucket,
        legendParcelPropertyBucketValue: legendParcelPropertyBucketValue,
        legendParcelPropertyBlankValue: legendParcelPropertyBlankValue,
        propertyLabels: propertyLabels,
        legendItemsChecked: legendItemsChecked,
      });
    </script>
  </body>
</html>
